// Code generated by qtc from "crud.qtpl". DO NOT EDIT.
// See https://github.com/valyala/quicktemplate for details.

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:1
package zombiezen

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:1
import (
	qtio422016 "io"

	qt422016 "github.com/valyala/quicktemplate"
)

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:1
var (
	_ = qtio422016.Copy
	_ = qt422016.AcquireByteBuffer
)

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:1
func StreamGenerateCRUD(qw422016 *qt422016.Writer, t *GenerateCRUDTable) {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:1
	qw422016.N().S(`
// Code generated by "sqlc-gen-zombiezen". DO NOT EDIT.

package `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:4
	qw422016.E().S(t.PackageName.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:4
	qw422016.N().S(`

import (
    "fmt"
    "zombiezen.com/go/sqlite"
    "github.com/delaneyj/toolbelt"
)

type `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:12
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:12
	qw422016.N().S(`Model struct {
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:13
	for _, f := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:13
		qw422016.N().S(`        `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S(` `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.E().S(f.GoType.Original)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S(` `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S(`json:"`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.E().S(f.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S(`"`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:14
		qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:15
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:15
	qw422016.N().S(`}


type Create`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:19
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:19
	qw422016.N().S(`Stmt struct {
    stmt *sqlite.Stmt
}

func Create`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:23
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:23
	qw422016.N().S(`(tx *sqlite.Conn) *Create`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:23
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:23
	qw422016.N().S(`Stmt {
    stmt := tx.Prep(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:23
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:23
	qw422016.N().S(`
INSERT INTO `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:25
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:25
	qw422016.N().S(` (
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:26
	for i, f := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:26
		qw422016.N().S(`        `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:27
		qw422016.E().S(f.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:27
		if i < len(t.Fields)-1 {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:27
			qw422016.N().S(`,`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:27
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:27
		qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:28
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:28
	qw422016.N().S(`) VALUES (
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:30
	for i := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:30
		qw422016.N().S(`        ?`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:31
		if i < len(t.Fields)-1 {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:31
			qw422016.N().S(`,`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:31
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:31
		qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:32
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:32
	qw422016.N().S(`)
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:32
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:32
	qw422016.N().S(`)
    return &Create`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:35
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:35
	qw422016.N().S(`Stmt{stmt: stmt}
}

func (ps *Create`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:38
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:38
	qw422016.N().S(`Stmt) Run(m *`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:38
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:38
	qw422016.N().S(`Model) error {
    defer ps.stmt.Reset()

    // Bind parameters
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:42
	streambindFields(qw422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:42
	qw422016.N().S(`

    if _, err := ps.stmt.Step(); err != nil {
        return fmt.Errorf("failed to insert `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:45
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:45
	qw422016.N().S(`: %w", err)
    }

    return nil
}

func OnceCreate`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:51
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:51
	qw422016.N().S(`(tx *sqlite.Conn, m *`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:51
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:51
	qw422016.N().S(`Model) error {
    ps := Create`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:52
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:52
	qw422016.N().S(`(tx)
    return ps.Run(m)
}

type ReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:56
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:56
	qw422016.N().S(`Stmt struct {
    stmt *sqlite.Stmt
}

func ReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:60
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:60
	qw422016.N().S(`(tx *sqlite.Conn) *ReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:60
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:60
	qw422016.N().S(`Stmt {
    stmt := tx.Prep(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:60
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:60
	qw422016.N().S(`
SELECT
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:63
	for i, f := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:63
		qw422016.N().S(`        `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:64
		qw422016.E().S(f.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:64
		if i < len(t.Fields)-1 {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:64
			qw422016.N().S(`,`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:64
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:64
		qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:65
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:65
	qw422016.N().S(`FROM `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:66
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:66
	qw422016.N().S(`
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:66
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:66
	qw422016.N().S(`)
    return &ReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:68
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:68
	qw422016.N().S(`Stmt{stmt: stmt}
}

func (ps *ReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:71
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:71
	qw422016.N().S(`Stmt) Run() ([]*`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:71
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:71
	qw422016.N().S(`Model, error) {
    defer ps.stmt.Reset()

    var models []*`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:74
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:74
	qw422016.N().S(`Model
    for {
        hasRow, err := ps.stmt.Step()
        if err != nil {
            return nil, fmt.Errorf("failed to read `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:78
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:78
	qw422016.N().S(`: %w", err)
        } else if !hasRow {
            break
        }

        m := &`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:83
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:83
	qw422016.N().S(`Model{}
        `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:84
	streamfillResStruct(qw422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:84
	qw422016.N().S(`

        models = append(models, m)
    }

    return models, nil
}

func OnceReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:92
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:92
	qw422016.N().S(`(tx *sqlite.Conn) ([]*`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:92
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:92
	qw422016.N().S(`Model, error) {
    ps := ReadAll`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:93
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:93
	qw422016.N().S(`(tx)
    return ps.Run()
}

`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:97
	if t.HasID {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:97
		qw422016.N().S(`type ReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:98
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:98
		qw422016.N().S(`Stmt struct {
    stmt *sqlite.Stmt
}

func ReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:102
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:102
		qw422016.N().S(`(tx *sqlite.Conn) *ReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:102
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:102
		qw422016.N().S(`Stmt {
    stmt := tx.Prep(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:102
		qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:102
		qw422016.N().S(`
SELECT
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:105
		for i, f := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:105
			qw422016.N().S(`        `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:106
			qw422016.E().S(f.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:106
			if i < len(t.Fields)-1 {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:106
				qw422016.N().S(`,`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:106
			}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:106
			qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:107
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:107
		qw422016.N().S(`FROM `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:108
		qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:108
		qw422016.N().S(`
WHERE id = ?
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:108
		qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:108
		qw422016.N().S(`)
    return &ReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:111
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:111
		qw422016.N().S(`Stmt{stmt: stmt}
}

func (ps *ReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:114
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:114
		qw422016.N().S(`Stmt) Run(id int64) (*`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:114
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:114
		qw422016.N().S(`Model, error) {
    defer ps.stmt.Reset()

    ps.stmt.BindInt64(1, id)

    if hasRow, err := ps.stmt.Step(); err != nil {
        return nil, fmt.Errorf("failed to read `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:120
		qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:120
		qw422016.N().S(`: %w", err)
    } else if !hasRow {
        return nil, nil
    }

    m := &`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:125
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:125
		qw422016.N().S(`Model{}
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:126
		streamfillResStruct(qw422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:126
		qw422016.N().S(`

    return m, nil
}

func OnceReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:131
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:131
		qw422016.N().S(`(tx *sqlite.Conn, id int64) (*`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:131
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:131
		qw422016.N().S(`Model, error) {
    ps := ReadByID`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:132
		qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:132
		qw422016.N().S(`(tx)
    return ps.Run(id)
}
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:135
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:135
	qw422016.N().S(`
func Count`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:137
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:137
	qw422016.N().S(`(tx *sqlite.Conn) (int64, error) {
    stmt := tx.Prep(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:137
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:137
	qw422016.N().S(`
SELECT COUNT(*)
FROM `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:140
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:140
	qw422016.N().S(`
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:140
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:140
	qw422016.N().S(`)
    defer stmt.Reset()

    if hasRow, err := stmt.Step(); err != nil {
        return 0, fmt.Errorf("failed to count `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:145
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:145
	qw422016.N().S(`: %w", err)
    } else if !hasRow {
        return 0, nil
    }

    return stmt.ColumnInt64(0), nil
}

func OnceCount`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:153
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:153
	qw422016.N().S(`(tx *sqlite.Conn) (int64, error) {
    return Count`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:154
	qw422016.E().S(t.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:154
	qw422016.N().S(`(tx)
}

type Update`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:157
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:157
	qw422016.N().S(`Stmt struct {
    stmt *sqlite.Stmt
}

func Update`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:161
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:161
	qw422016.N().S(`(tx *sqlite.Conn) *Update`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:161
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:161
	qw422016.N().S(`Stmt {
    stmt := tx.Prep(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:161
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:161
	qw422016.N().S(`
UPDATE `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:163
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:163
	qw422016.N().S(`
SET
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:165
	for i, f := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:166
		if i > 0 {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:166
			qw422016.N().S(`        `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
			qw422016.E().S(f.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
			qw422016.N().S(` = ?`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
			qw422016.N().D(i + 1)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
			if i < len(t.Fields)-1 {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
				qw422016.N().S(`,`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
			}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:167
			qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:168
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:169
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:169
	qw422016.N().S(`WHERE id = ?1
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:169
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:169
	qw422016.N().S(`)
    return &Update`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:172
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:172
	qw422016.N().S(`Stmt{stmt: stmt}
}

func (ps *Update`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:175
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:175
	qw422016.N().S(`Stmt) Run(m *`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:175
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:175
	qw422016.N().S(`Model) error {
    defer ps.stmt.Reset()

    // Bind parameters
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:179
	streambindFields(qw422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:179
	qw422016.N().S(`

    if _, err := ps.stmt.Step(); err != nil {
        return fmt.Errorf("failed to update `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:182
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:182
	qw422016.N().S(`: %w", err)
    }

    return nil
}

func OnceUpdate`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:188
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:188
	qw422016.N().S(`(tx *sqlite.Conn, m *`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:188
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:188
	qw422016.N().S(`Model) error {
    ps := Update`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:189
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:189
	qw422016.N().S(`(tx)
    return ps.Run(m)
}

type Delete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:193
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:193
	qw422016.N().S(`Stmt struct {
    stmt *sqlite.Stmt
}

func Delete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:197
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:197
	qw422016.N().S(`(tx *sqlite.Conn) *Delete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:197
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:197
	qw422016.N().S(`Stmt {
    stmt := tx.Prep(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:197
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:197
	qw422016.N().S(`
DELETE FROM `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:199
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:199
	qw422016.N().S(`
WHERE id = ?
    `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:199
	qw422016.N().S("`")
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:199
	qw422016.N().S(`)
    return &Delete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:202
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:202
	qw422016.N().S(`Stmt{stmt: stmt}
}

func (ps *Delete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:205
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:205
	qw422016.N().S(`Stmt) Run(id int64) error {
    defer ps.stmt.Reset()

    ps.stmt.BindInt64(1, id)

    if _, err := ps.stmt.Step(); err != nil {
        return fmt.Errorf("failed to delete `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:211
	qw422016.E().S(t.Name.Lower)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:211
	qw422016.N().S(`: %w", err)
    }

    return nil
}

func OnceDelete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:217
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:217
	qw422016.N().S(`(tx *sqlite.Conn, id int64) error {
    ps := Delete`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:218
	qw422016.E().S(t.SingleName.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:218
	qw422016.N().S(`(tx)
    return ps.Run(id)
}

`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
func WriteGenerateCRUD(qq422016 qtio422016.Writer, t *GenerateCRUDTable) {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	qw422016 := qt422016.AcquireWriter(qq422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	StreamGenerateCRUD(qw422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	qt422016.ReleaseWriter(qw422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
func GenerateCRUD(t *GenerateCRUDTable) string {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	qb422016 := qt422016.AcquireByteBuffer()
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	WriteGenerateCRUD(qb422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	qs422016 := string(qb422016.B)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	qt422016.ReleaseByteBuffer(qb422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
	return qs422016
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:222
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:224
func streambindFields(qw422016 *qt422016.Writer, tbl *GenerateCRUDTable) {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:225
	for _, f := range tbl.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:225
		qw422016.N().S(`    ps.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:226
		switch f.GoType.Original {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:227
		case "time.Time":
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:227
			qw422016.N().S(`            stmt.Bind`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:228
			qw422016.E().S(f.SQLType.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:228
			qw422016.N().S(`(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:228
			qw422016.N().D(f.Column)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:228
			qw422016.N().S(`, toolbelt.TimeToJulianDay(m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:228
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:228
			qw422016.N().S(`))
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:229
		case "time.Duration":
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:229
			qw422016.N().S(`            stmt.Bind`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:230
			qw422016.E().S(f.SQLType.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:230
			qw422016.N().S(`(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:230
			qw422016.N().D(f.Column)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:230
			qw422016.N().S(`, toolbelt.DurationToMilliseconds(m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:230
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:230
			qw422016.N().S(`))
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:231
		default:
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:231
			qw422016.N().S(`            stmt.Bind`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:232
			qw422016.E().S(f.SQLType.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:232
			qw422016.N().S(`(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:232
			qw422016.N().D(f.Column)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:232
			qw422016.N().S(`, m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:232
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:232
			qw422016.N().S(`)
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:233
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:234
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
func writebindFields(qq422016 qtio422016.Writer, tbl *GenerateCRUDTable) {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	qw422016 := qt422016.AcquireWriter(qq422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	streambindFields(qw422016, tbl)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	qt422016.ReleaseWriter(qw422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
func bindFields(tbl *GenerateCRUDTable) string {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	qb422016 := qt422016.AcquireByteBuffer()
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	writebindFields(qb422016, tbl)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	qs422016 := string(qb422016.B)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	qt422016.ReleaseByteBuffer(qb422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
	return qs422016
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:235
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:237
func streamfillResStruct(qw422016 *qt422016.Writer, t *GenerateCRUDTable) {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:238
	for i, f := range t.Fields {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:238
		qw422016.N().S(`    // `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:239
		qw422016.E().S(f.GoType.Original)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:239
		qw422016.N().S(`
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:240
		switch f.GoType.Original {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:241
		case "time.Time":
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:241
			qw422016.N().S(`            m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:242
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:242
			qw422016.N().S(` = toolbelt.JulianDayToTime(ps.stmt.Column`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:242
			qw422016.E().S(f.SQLType.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:242
			qw422016.N().S(`(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:242
			qw422016.N().D(i)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:242
			qw422016.N().S(`))
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:243
		case "time.Duration":
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:243
			qw422016.N().S(`            m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:244
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:244
			qw422016.N().S(` = toolbelt.MillisecondsToDuration(ps.stmt.Column`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:244
			qw422016.E().S(f.SQLType.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:244
			qw422016.N().S(`(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:244
			qw422016.N().D(i)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:244
			qw422016.N().S(`))
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:245
		case "[]byte":
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:245
			qw422016.N().S(`            m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:246
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:246
			qw422016.N().S(` = toolbelt.StmtBytesByCol(ps.stmt, `)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:246
			qw422016.N().D(i)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:246
			qw422016.N().S(`)
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:247
		default:
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:247
			qw422016.N().S(`            m.`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:248
			qw422016.E().S(f.Name.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:248
			qw422016.N().S(` = ps.stmt.Column`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:248
			qw422016.E().S(f.SQLType.Pascal)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:248
			qw422016.N().S(`(`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:248
			qw422016.N().D(i)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:248
			qw422016.N().S(`)
`)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:249
		}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:250
	}
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
func writefillResStruct(qq422016 qtio422016.Writer, t *GenerateCRUDTable) {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	qw422016 := qt422016.AcquireWriter(qq422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	streamfillResStruct(qw422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	qt422016.ReleaseWriter(qw422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
}

//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
func fillResStruct(t *GenerateCRUDTable) string {
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	qb422016 := qt422016.AcquireByteBuffer()
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	writefillResStruct(qb422016, t)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	qs422016 := string(qb422016.B)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	qt422016.ReleaseByteBuffer(qb422016)
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
	return qs422016
//line sqlc-gen-zombiezen/zombiezen/crud.qtpl:251
}
